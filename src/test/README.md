
# **C++ Evio Test Program Guide**

    Short, minimal guide to test programs that were collected over the years.
    A file may need editing to execute methods that are commented out.
    These files compile and run. Dig in and parse it yourself.

| Mirrored Java file                                                                                       | File                                                                       | Function                                                                                                                                                                                                                                                                                             |
|----------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|                                                                                                          | [CompactBuilder_Test.cpp](CompactBuilder_Test.cpp)                         | Compare writing evio data using the CompactEventBuilder, EventBuilder, and EvioEvent tree classes. Searches evio buffer. Method to test inserting EvioNode into buffer.                                                                                                                              |
| [DictTest2.java](../../java/org/jlab/coda/jevio/test/DictTest2.java)                                     | [Dict_FirstEv_Test.cpp](Dict_FirstEv_Test.cpp)                             | Write evio data to file with EventWriter using the CompactEventBuilder and EventBuilder classes while inserting created dictionary and **first event**. Read files using EvioReader and print out.                                                                                                   |
| [CompactStructureHandlerTest.java](../../java/org/jlab/coda/jevio/test/CompactStructureHandlerTest.java) | [EvioCompStructHandlerTest.cpp](EvioCompStructHandlerTest.cpp)             | Create evio event buffer, put into EvioCompactStructureHandler, remove node, and examine resulting buffer.                                                                                                                                      |
|                                                                                                          | [fileTest.cpp](fileTest.cpp)                                               | Very short test to see if #include \<filesystem\> is available on this system.                                                                                                                                                                                                                       |
| [FileWriteTest.java](../../java/org/jlab/coda/jevio/test/FileWriteTest.java)                             | [FileWriteTest.cpp](FileWriteTest.cpp)                                     | Compare writing same events as ByteBuffers to file with EventWriterV4 (evio 4) and EventWriter (evio 6).                                                                                                                                                                                             |
|                                                                                                          | [hallDEventFiles.cpp](hallDEventFiles.cpp)                                 | So Esnet can test data compressibility, take a hall D data file and write out each event into a separate file (no record structure).                                                                                                                                                                 |
| [HipoTest.java](../../java/org/jlab/coda/jevio/test/HipoTest.java)                                       | [Hipo_Test.cpp](Hipo_Test.cpp)                                             | Create events with CompactEventBuilder, write into hipo file with Writer or WriterMT and read back with Reader, printout. Also create events with createTreeEvent, write with EventWriter, read with EvioReader, printout. Also run similar tests on buffers.                                        |
|                                                                                                          | [IndexArrayLenTest.cpp](IndexArrayLenTest.cpp)                             | Write evio 6 data (zero-length index array) with fwrite, read back with Reader and print. Used to test the reading of uncompressed evio buffer and file to see if changes made to handle a zero-length index array actually worked.                                                                  |                                                                                      |
| [ReadWriteTest.java](../../java/org/jlab/coda/jevio/test/ReadWriteTest.java)                             | [ReadWriteTest.cpp](ReadWriteTest.cpp)                                     | Write 1 event with Writer class and a user-header specified in constructor into buffer.  Read back with Reader, EvioCompactReader and EvioReader and compare to original buffer.                                                                                                                     |
| [ReadWriteV4Test.java](../../java/org/jlab/coda/jevio/test/ReadWriteV4Test.java)                         | [ReadWriteV4Test.cpp](ReadWriteV4Test.cpp)                                 | Writes evio v4 file with EventWriterV4 with set endian, first event and dictionary, reads back. Routine to write evio v4 buffer. Reads back with EvioCompactReader and EvioReader.                                                                                      |
| [RecordSupplyTest.java](../../java/org/jlab/coda/jevio/test/RecordSupplyTest.java)                       | [RecordSupplyTest.cpp](RecordSupplyTest.cpp)                               | Test of RecordSupply class (based on Disruptor-cpp) with one thread getting & writing into record, multiple threads compressing records, and a thread to get and write out final record. RecordSupply is **NOT** meant to be used directly, but is used in WriterMT to do multithreaded compression. |
| [TreeBufTest.java](../../java/org/jlab/coda/jevio/test/TreeBufTest.java)                                 | [RingBufferTest.cpp](RingBufferTest.cpp)                                   | Used for testing C++ based ring buffer code in prep for creating RecordSupply class. **NOT** useful for anyone.                                                                                                                                                                                      |                                                                                                         | [Tree_Buf_Composite_Builder_Test.cpp](Tree_Buf_Composite_Builder_Test.cpp) | Has Java counterpart in TreeBufTest.java. Test EventBuilder, CompactEventBuilder, CompositeData, ByteBuffer (with memory mapping), BaseStructure's tree methods, and finding structures thru filters and listeners.                                                                                  |



                                                                                                 